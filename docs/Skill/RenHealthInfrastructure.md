> 2014-09-20

项目说明
========
人人健康社区的基础部分的分析与设计，包含社区的基本功能、消息广播监听机制、应用的相关规则与机制、权限管理的设计、缓存的要求，不包括商城部分与具体应用的部分

## 参考资料
- [社区页面原型](http://www.susns.net/renjk/)
- [UBI项目原型(IOS)](http://jkb.yyywb.com/app.html)
- [现有健行社区](http://sport.renjk.com/)
- [uml文档](../../data/ren_health.uml)（由staruml绘制）

用例分析
=========
## 主要场景
### 开通用户

### 渠道登录

### 开通应用

### 关注好友

### 查看动态


## 需要验证的
- UBI项目是否能适用
    - 互联网社区直接使用本社区
    - 保险购买流程？
    - 商品信息来源、维护？
    - 商品订单流程的执行？
- 瑞斯坦、眼健康等项目是否适用
- 365现有用户能否正确迁移
- 补给站用户能否正确迁移
- 补给站商户转化为用户来源商（登录者为本来源商管理员）
- 用户具有多来源时（同时是两个或以上渠道发展的用户）
    - 验证确实为同一用户（手机、姓名、mail？）
    - 如果新渠道具有默认应用
        - 用户已具有该默认应用，且存在有效期限？
            - 建议不使用有效期，当需要时，做个各个应用中，而不是基础机制中
        - 新默认应用与用户已拥有应用互斥时？
        - 否则，开通该默认应用


领域模型
=========
少了模型
少了步骤
关注过程数据，可跟踪



系统分析
========



关键设计
========
## 消息机制
适用于好友动态(关注、开通应用、领取任务、发表话题)、应用动态、消息发布、私信、个体健康数据更新
### 广播



### 监听

## 权限设计
### 功能点
### 数据过滤

### 应用插拔机制

## 规则描述
### 应用开通规则
### 应用互斥描述



## 缓存要求
mongodb的使用


## 其它
常用数据表 省份、民族 移植
