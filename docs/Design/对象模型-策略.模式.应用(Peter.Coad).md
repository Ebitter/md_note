> 2009-06-30

康妮的便利店(POS应用系统)
========================
## 确定系统的目标和特性
### 确定系统的目标
- `#2 系统目标 策略`，确定目标和特性
    - 用25个字或少于25个字描述总目标：为什么建立这个系统？为什么现在建立？
    - 一直把这个总目标和关键的成功因素摆在自己面前
    - “用于支持、帮助、促进...”

问一些有关确定目标的问题，如哪些特性能够帮助你把工作做得更好？让用户提供愿望列表，并引导说出为什么需要这些功能，如：

- 提高结账速度
- 减少标错价格的数量
- 减少最初和改变价格时给商品贴价签需要的劳动

然后用很少的字来描述系统的目标，如“帮助每位收银员在结账时提高工作效率，为每一笔销售做好记录并且支持店铺更有效率地运作”

### 确定系统的特性
- `#6 四种特性 策略`，确定目标和特性
    - 务必加入包含以下内容的特性：
    - 将重要信息写入日志
    - 管理交易过程
    - 分析经营结果
    - 与其他系统交互

#### 确定记录重要信息日志的特性
向领域专家询问有关系统必须每日记录的信息，如，你希望知道经营活动中的哪些信息，需要确定具体需求，如：

- 根据通用产品代码（UPC）维持价格
- 保持税金类别（类别、税率、有效日期）
- 保留经授权的收银员
- 继续供应店中销售的哪些商品
- 记录店内每笔销售的结果

#### 确定经营生意的特性(管理交易)
得到这些需要的信息后，怎样用这些信息来经营生意，让它们具有商业价值呢？

- 根据UPC给每种商品标明价格
- 进行小计，计算销售税额并进行小计
- 接收现金、支票或记账的付款方式

#### 确定分析经营成果的特性
交易发生后，哪种经营成果分析能帮助更有效的进行经营

- 计算每种商品已出售多少
- 计算以现金、支票或信用卡形式成交的销售中我们已收到多少钱
- 评估每位收银员的表现
- 评估每个店的运营情况

#### 确定与其他系统交互的特性
如支票和信用卡认证系统，新的POS系统应当能够与其进行交互，并明确交互的目标：目的是为了从一个或多个信息（或支票）认证系统获得授权

#### 有关系统目标和特性
既然已确定了目标和特性，是否 __确定了范围了呢__ ？只能是初步的范围明确了，将随着一些需求深入，还有些变化

## 选择对象
- `#25 以对象－模型组件为指导 策略`，选择对象（模型组件）
    - 把对象－模型组件为指导，组织安排搜索对象的工作：
    - PD 问题域 与业务相关的类
    - HI 与人交互 窗口和报表
    - DM 数据管理 数据库
    - SI 与系统交互 其他系统
    - NT 暂不考虑 本系统范围之外

每个类只属于这些模型组件中的一种，对于每个组件，都可以

- 选择对象
- 确定职责
- 利用脚本描绘动态情景

## 选择问题域对象
现在考虑PD对象
### 选择执行者和参与者
__执行者__ 是个人、机构或其他某些东西，它们 __随着时间的推进__ 以一种或多种方式 __参与__ 到系统中，__参与者__ 则以一种特定的方式参与，__扮演角色__ 或完成一项特定任务

- `#13 选择执行者 策略`，选择对象（模式扮演者）
    - 寻找执行者：在待建系统中充当参与者的个人和机构
    - 例：个人、机构（代理处、公司、企业、财团）

本系统中，执行者是：个人

- `#14 选择参与者 策略`，选择对象（模式扮演者）
    - 分析每个参与者是如何以待建系统或许感兴趣的方式参与其中的
    - 原因：每个参与者在整个过程中以一种或多种方式参与，对于同一个参与者只是参与的方式不同。一天之种戴着“各不相同的帽子”
    - 例：代理人、申请人、买主、出纳员

使用POS系统时，人参与的方式有哪些呢？收银员、收银主管、顾客

如果对象在该系统职责环境中是适合的，则包含这个对象，否则放到暂不考虑

#### 收银员与收银主管
收银员对象是必不可少的，收银主管呢，一种选择是作为另一种类型来模拟，事实上可作为收银员的特化类

- `#68 部分适用的属性 策略`，确定职责/我知道什么（思考和质询）
    - 有些属性是否只适用于类中的某些对象？
    - 是否有一种属性，只适用于某些类型的对象？
    - 是否有一种属性，它的值可能是“不适用”？
    - 如果是，则把这种特殊属性提取出来归入一个特化类中

- `#121 部分有效的服务 策略`，确定职责/我知道什么（思考和质询）
    - 是否有一种服务只适用于类中的某些特定对象？
    - 是否有一种服务只适用于某些特定类型的对象？
    - 是否有一种服务先测试属于哪种类型，然后才完成相应活动？
    - 如果是，则把这种特殊服务提取出来归入一个特化类中

#### 顾客
只有在有办法确定顾客都是谁或者至少一部分顾客都是谁时，增加“顾客”对象才有意义

- `#47 了解的方法 策略`，选择对象（思考和质询）
    - 需要有一种知道每个对象及其属性值的方法
    - 如果没有办法了解一个对象，那么要么找到一种方法了解它，要么放进暂入考虑
    - 例如，顾客，必须有一种能够了解顾客对象的方法，否则归入暂不考虑

如果每个顾客都是走进商店，匿名参与商店的交易，然后离开，就没必要在对象模型中保留顾客对象，因为系统不需要了解顾客的任何情况，也不需要针对该顾客采取任何行动

关于类的名称

- `#38 使用领域词汇 策略`，选择对象（名称）
    - 使用该领域的词汇
    - 鼓励领域专家删除那些不属于他们领域的名称
    - 不要教领域专家应该怎样讲话
    - 除非领域专家觉得必要，否则不要改变这些词汇

### 选择地点
- `#15 选择地点 策略`，选择对象（模式扮演者）
    - 寻找存放物品的地点、能容纳其他对象的地点
    - 例：机场、装配线、银行、诊所、货栈、车库

哪些是重要的地点？我们要寻找的是以下地点：存放物品的地点、保存或容纳其他对象的地点。

在便利店里，有：商店、货架，这两个类都在该问题的研究领域中

- `#42 系统职责 策略`，选择对象（思考和质询）
    - 你的系统有责任了解这个对象或对它采取某些行动吗？
    - 如果不是，放到暂不考虑

- `#22 选择容器对象 策略`，选择对象（模式扮演者）
    - 使用基于域的容器，容器可以容纳其他对象
    - 例：机场、飞机、过道、银行、车库

商店是一个容器，容纳许多东西：收银员、记录机以及要出售的商品，商店对象是储存那些计算的合适地点

货架也很重要，当系统必须评定每个货架的性能的时候，货架应该知道货架上存放的物品以及物品的摆放布局，但这些任务 __超出了当前系统的目标和特性的范围__，所以暂时把货架也放入暂不考虑

下一步，考虑商店的种类

- `#22 选择对象的种类 策略`，选择对象（对象种类）
    - 应用泛化－特化结构找出其他的类
        + 把每个类看成一个泛化类，为其特化类，即与系统目标相适应的那些类命名
        + 研究每个特化类，为其泛化类，即与系统目标相适应的那些类命名
    - 利用泛化－特化结构实现一个应用系统内部基于域的重用：利用配置管理实现涉及多个应用系统、甚至多个问题域的重用
    - 用泛化－特化结构表示一个应用系统内部基于的相同部分和不同部分
    - 例：设备，设备种类；参与者，参与者种类；事务，事务种类

商店是一种外销形式，可以把商店专营为各种类型的商店，如超级市场、杂货店、便利店。但现在只讨论便利店形式

### 选择事物
P11





























































































































































































































































































