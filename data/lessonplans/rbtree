红黑树性质

1、每个结点或是红的，或是黑的。
2、根结点是黑的。
3、叶子结点（NIL）是黑的。
4、如果一个结点是红的，则它的两个孩子都是黑的。
5、对每个结点，从该结点到其子孙结点的所有路径上包含相同数目的黑结点。




插入平衡

只考虑p[x]是p[p[x]]的左儿子。

情况1、x的叔叔y是红色：
p[x]和y都置黑，p[p[x]]置红。
以p[p[x]]为新x重复循环。

情况2、x的叔叔y是黑色，并且x是右孩子：
对p[x]进行左旋，x指向原先的p[x]。
情况2转换成3。

情况3、x的叔叔y是黑色，并且x是左孩子：
p[x]置黑，p[p[x]]置红。对p[p[x]]进行右旋。



删除平衡

只考虑x是p[x]的左儿子。
如果x是红色，置黑就完成平衡。

如果x是黑色：

情况1、x的兄弟w是红色：
改变w和p[x]的颜色，对p[x]做一次左旋。
情况1转换成2、3、4。

情况2、x的兄弟w是黑色， 而且w的两个孩子都是黑色：
w置为红色，以p[x]为新x重复循环。

情况3、x的兄弟w是黑色， 而且w的左孩子是红色，右孩子是黑色：
交换w和其左孩子的颜色，对w进行右旋。
情况3转换成4。

情况4、x的兄弟w是黑色， 而且w的右孩子是红色：
交换w和p[x]的颜色，w的右孩子置黑，对p[x]进行左旋。
x置为根，循环结束。




